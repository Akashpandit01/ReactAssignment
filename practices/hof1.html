<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>

//    const analyzePublicApis= async ()=>{
// try {
//         const res=await fetch("https://api.publicapis.org/entries");
//         const data=await res.json();
//         const entries=data.entries;
        
//         console.log("Total APIs:",entries.length);
// } catch (error) {
    
// }
//    }

// async function analyzePublicApis(){
//       const res=await fetch("https://api.publicapis.org/entries");
//         const data=await res.json();
//         const entries=data.entries;
//          console.log("Total APIs:",entries.length);

//          const apiKeyRequire=entries.filter(e=>e.auth==="apiKey").length;

//          console.log("apiKeyRequire=",apiKeyRequire);

//          const categorycount=entrie.reduce((acc,e)=>{
//             acc[e.category]=(acc[e.category] ||0)+1;

//             return acc;
//          },{})

//          const top3Categories=Object.entries(categorycount).sory((a,b)=>b[1]-a[1]).slice(0,3);

//          console.log("top3Categories ",top3Categories);


//          const corsHttpApid=entries.filter(e=>e.cors!=='no' && e.HTTPS===true).map(e=>e.API);


// } 
//   analyzePublicApis();



// async function analyzeAlbumsPhotos (){
//   const albumsRes = await fetch("https://jsonplaceholder.typicode.com/albums");
//   const photosRes = await fetch("https://jsonplaceholder.typicode.com/photos");

//   const albums=await  albumsRes.json();
//   const photos= await photosRes.json();
//   console.log(albums.length);

//   const photosByAlbum=photos.reduce((acc,p)=>{

//     acc[p.albumId]=(acc[p.albumId] ||[]);
//     acc[p.albumId].push(p);

//     return acc;

//   },{});


//   const user3Albums=albums.filter(a=>a.userId==3);


//   user3Albums.forEach(album => {
//     const count=photosByAlbum[album.id]?.length ||0;

//     console.log(`Album Title : ${album.title} -Photos : ${count}`);
    

//     const album7=photosByAlbum[7];
//     if(album7)
//     console.log(" album7",album7[0].url);
//   });
// }
// analyzeAlbumsPhotos();


// async function userHOF(){
//     const res=await fetch("https://jsonplaceholder.typicode.com/users");
//     const users=await res.json();

//     const names=users.map(u=>u.name);
//     console.log("All Names:",names);

//     const cityUsers=users.filter(u=>u.address.city==="South Christy");
//     console.log(cityUsers);

//     const sortedEmails=users.map(u=>u.email).sort();
//     console.log(sortedEmails);
    
//     const groupCompanies=users.reduce((count,user)=>{
//         return user.copany.name.includes("Group")?count+1:count;
//     },0);
//     console.log(groupCompanies);
// }
// userHOF();



// async function productHOF(){
//     const res=await fetch("https://fakestoreapi.com/products");
//   const products = await res.json();

//   console.log(products.length);

//   const costList=products.reduce((max,p)=>{
//     p.price>max.price?p:max;
//   });
//   console.log(costList);

//   const totalElectronics=products.filter(p=>p.category=="electronics").reduce((sum,p)=>sum+p.price,0);

//   console.log(totalElectronics);



//   const uniqueCategories=[...new Set(products.map(p=>p.category))];

// }
// productHOF()

//    async function albumHOF() {
//     const albumRes=await  fetch("https://jsonplaceholder.typicode.com/albums");
//      const photosRes = await fetch("https://jsonplaceholder.typicode.com/photos");

//      const albums= await albumRes.json();
//      const photos=await photosRes.json();

//      console.log(photos.length);

//      const photosAlbum=photos.reduce((acc,p)=>{
//         acc[p.albumId]=acc[p.albumId] || [];
//         acc[p.albumId].push(p);
//         return acc;
//      },{});

//      const albumSummaries=albums.map(a=>{
//         const count=photosAlbum[a.id]?.length ||0;
//         return `Album Title :${a.title}-Photos:${count}`;
//      });
//      console.log(albumSummaries);


//      const maxAlbum=albums.reduce()
//    }

async function challange() {
    const response=await fetch("https://jsonplaceholder.typicode.com/users");
   const result=await response.json();

  const user= result.map(arr=>arr.username);
  console.log(`username=${user}`);
  const city = result.filter(c => c.address.city === 'Lebsackbury');
console.log(city);

    const domains=result.map(user=>"."+user.website.split(" ").pop());
    console.log(domains);

    const totaltag=result.flatMap(p=>p.tags);

    const tagCount=totaltag.reduce((acc,tag)=>{
        acc[tag]=(acc[tag]||0)+1;
        return acc;
    },{});
    console.log(tagCount);

}
challange()
    </script>
</head>
<body>
    
</body>
</html>
